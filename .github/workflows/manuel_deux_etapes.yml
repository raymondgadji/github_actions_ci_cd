# .github/workflows/manuel-deux-etapes.yml
name: Exercice Manuel - Deux √©tapes successives

on:
  workflow_dispatch:    # ‚Üê permet le d√©clenchement manuel depuis l'interface GitHub

jobs:

  etape-1:
    runs-on: ubuntu-latest
    steps:
      - name: Message √©tape 1
        run: |
          echo "======================================"
          echo "√âTAPE 1 : je suis le d√©marrage manuel"
          echo "Ceci est la premi√®re partie du workflow"
          echo "Date ‚Üí $(date)"
          echo "======================================"
          echo "Fin de l'√©tape 1 - je peux maintenant lancer l'√©tape 2"

  etape-2:
    needs: etape-1          # ‚Üê ceci force l'ex√©cution apr√®s etape-1
    runs-on: ubuntu-latest
    steps:
      - name: Message √©tape 2
        run: |
          echo "======================================"
          echo "√âTAPE 2 : suite apr√®s l'√©tape 1"
          echo "Le workflow manuel a bien execut√© l'√©tape 1"
          echo "On continue ! üöÄ"
          echo "Date ‚Üí $(date)"
          echo "Conclusion de l'√©tape 1 ‚Üí ${{ needs.etape-1.result }}"
          echo "======================================"